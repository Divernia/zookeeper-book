如果一个worker和master失去连接，比如网络分区的原因，重新分配任务可能导致两个worker执行同一个任务。如果一个任务被执行多次是可以接受的，我们在重新分配任务时就可以不用校验第一个worker是否执行过任务。如果不能接受，那么应用必须能适应多个worker最终都可能执行该任务的可能。

---

> ### 有且仅有一次（Exactly-Once\)和最多一次\(At-Most-Once\)的语义
> 
> 对任务（比如领导者选举）使用锁并不能完全避免任务被执行多次，因为可能会存在以下几个连续的事件：
> 
> 1. Master M1指定任务T1给Worker W1。
> 2. W1获取T1的锁，然后执行T1，接着释放锁。
> 3. Master M1怀疑W1奔溃了，然后重新分配任务T1给Worker W2。
> 4. W2获取了T1的锁，执行T1，接着释放锁。
> 
> 这种情况下，T1的锁没有阻止任务被执行两次，因为两个worker之间在执行任务时没有交叉的地方。







